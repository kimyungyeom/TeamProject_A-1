<%- include('./partials/main.header.ejs') %>
  <%- include('./partials/main.backgound.ejs') %>

    <div class="card-body container d-flex justify-content-center">
      <form role="form" class="signInForm text-start col-3 align-items-center mt-4">
        <div class="input-group input-group-outline my-3">
          <input type="email" placeholder="Email" class="emailInput form-control">
        </div>
        <div class="input-group input-group-outline mb-3">
          <input type="password" placeholder="Password" class="passwordInput form-control">
        </div>
        <div>
          <a href="/" type="button"></a>
        </div>
        <a href="/api/auth/google" className="googleBtn">
          <img src="/assets/img/web_light_sq_ctn@4x.png" class="col-12" /></a>



        <div class="text-center">
          <a type="button" class="signInBtn btn bg-gradient-primary w-100 my-4 mb-2">Sign in</a>
        </div>

        <p class="mt-4 text-sm text-center">
          Don't have an account?
          <a href="/signup" class="text-primary text-gradient font-weight-bold">Sign up</a>
        </p>
      </form>
    </div>

    <script>
      const google = document.querySelector('.signInGoogle');
      const searchEl = document.querySelector('.signInBtn');
      const emailEl = document.querySelector('.emailInput');
      const passwordEl = document.querySelector('.passwordInput');

      searchEl.addEventListener('click', async () =>
      {
        try
        {
          const response = await axios.post('/api/auth/login', {
            email: emailEl.value,
            password: passwordEl.value
          });

          if (response)
          {
            window.location.href = '/';
          }
        } catch (e)
        {
          console.error(e);
        }
      });

    </script>

    <!-- 
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="/assets/js/main.js"></script> -->
    <!--   Core JS Files   -->

    <%- include('./partials/footer.ejs') %>